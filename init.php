<?php

$translations = [
    'fr' => [
        'Database Comparison Tool' => 'Outil Comparaison Base de Données',
        'Login' => 'Connexion',
        'Host' => 'Hôte',
        'Username' => 'Nom d\'utilisateur',
        'Password' => 'Mot de passe',
        "Connected as: {username}" => "Connecté en tant que : {username}",
        'Select Databases to Compare' => 'Sélectionner les bases de données à comparer',
        'Database 1' => 'Base de données 1',
        'Database 2' => 'Base de données 2',
        'Select Database 1' => 'Sélectionner la base de données 1',
        'Select Database 2' => 'Sélectionner la base de données 2',
        'Remember username' => 'Se souvenir du nom d\'utilisateur',
        'Connect' => 'Se connecter',
        "Please select two databases to compare" => "Veuillez sélectionner deux bases de données à comparer",
        'Connection failed. Please check your credentials.' => 'Échec de la connexion. Veuillez vérifier vos identifiants.',
        'Total Tables' => 'Tables totales',
        'Missing in DB1' => 'Manquante dans BD1',
        'Missing in DB2' => 'Manquante dans BD2',
        'Tables Comparison' => 'Comparaison des tables',
        'Invalid request' => 'Demande invalide',
        'Table Comparison' => 'Comparaison de la table',
        'Missing Tables in DB1' => 'Tables manquantes dans BD1',
        'Missing Tables in DB2' => 'Tables manquantes dans BD2',
        'Structure Mismatches' => 'Incompatibilités de structure',
        'Structure Mismatch' => 'Structure Incompatible',
        'Data Mismatches' => 'Incompatibilités de données',
        'Indexes DB1' => 'Indexes BD1',
        'Indexes DB2' => 'Indexes BD2',
        'No Mismatches Found' => 'Aucune incompatibilité trouvée',
        'Tables are identical' => 'Les tables sont identiques',
        'Table Structure' => 'Structure de la table',
        'Table Data' => 'Données de la table',
        'Table Name' => 'Nom de la table',
        'Column Name' => 'Nom de la colonne',
        'Column Type' => 'Type de colonne',
        'Column Length' => 'Longueur de la colonne',
        'View' => 'Voir',
        'Index' => 'Index',
        'Summary' => 'Résumé',
        'Detailed' => 'Détaillé',
        'Details' => 'Détails',
        'compare with' => 'comparer avec',
        'Identical Tables' => 'Tables identiques',
        'Identical' => 'Identique',
        'Different' => 'Différent',
        'Differences' => 'Différences',
        'Comparison Summary' => 'Résumé de la comparaison',
        'Comparison Results' => 'Résultats de la comparaison',
        'No differences found' => 'Aucune différence trouvée',
    ],
    "es"=> [
        'Database Comparison Tool' => 'Herramienta de Comparación de Bases de Datos',
        'Login' => 'Iniciar sesión',
        'Host' => 'Anfitrión',
        'Username' => 'Nombre de usuario',
        'Password' => 'Contraseña',
        "Connected as: {username}" => "Conectado como: {username}",
        'Select Databases to Compare' => 'Seleccionar Bases de Datos para Comparar',
        'Database 1' => 'Base de Datos 1',
        'Database 2' => 'Base de Datos 2',
        'Select Database 1' => 'Seleccionar Base de Datos 1',
        'Select Database 2' => 'Seleccionar Base de Datos 2',
        'Remember username' => 'Recordar nombre de usuario',
        'Connect' => 'Conectar',
        "Please select two databases to compare" => "Por favor seleccione dos bases de datos para comparar",
        'Connection failed. Please check your credentials.' => 'Conexión fallida. Por favor verifique sus credenciales.',
        'Total Tables' => 'Tablas totales',
        'Missing in DB1' => 'Faltan en BD1',
        'Missing in DB2' => 'Faltan en BD2',
        'Tables Comparison' => 'Comparación de Tablas',
        'Invalid request' => 'Solicitud inválida',
        'Table Comparison' => 'Comparación de la tabla',
        'Missing Tables in DB1' => 'Tablas faltantes en BD1',
        'Missing Tables in DB2' => 'Tablas faltantes en BD2',
        'Structure Mismatches' => 'Incompatibilidades de estructura',
        'Structure Mismatch' => 'Estructura Incompatible',
        'Data Mismatches' => 'Incompatibilidades de datos',
        'Indexes DB1' => 'Índices BD1',
        'Indexes DB2' => 'Índices BD2',
        'No Mismatches Found' => 'No se encontraron incompatibilidades',
        'Tables are identical' => 'Las tablas son idénticas',
        'Table Structure' => 'Estructura de la tabla',
        'Table Data' => 'Datos de la tabla',
        'Table Name' => 'Nombre de la tabla',
        'Column Name' => 'Nombre de la columna',
        'Column Type' => 'Tipo de columna',
        'Column Length' => 'Longitud de la columna',
        'View' => 'Ver',
        'Index' => 'Índice',
        'Summary' => 'Resumen',
        'Detailed' => 'Detallado',
        'Details' => 'Detalles',
        'compare with' => 'comparar con',
        'Identical Tables' => 'Tablas idénticas',
        'Identical' => 'Idéntico',
        'Different' => 'Diferente',
        'Differences' => 'Diferencias',
        'Comparison Summary' => 'Resumen de la comparación',
        'Comparison Results' => 'Resultados de la comparación',
        'No differences found' => 'No se encontraron diferencias',
    ],
    "de" => [
        'Database Comparison Tool' => 'Werkzeug zum Datenbankvergleich',
        'Login' => 'Anmelden',
        'Host' => 'Host',
        'Username' => 'Benutzername',
        'Password' => 'Passwort',
        "Connected as: {username}" => "Angemeldet als: {username}",
        'Select Databases to Compare' => 'Datenbanken zum Vergleichen auswählen',
        'Database 1' => 'Datenbank 1',
        'Database 2' => 'Datenbank 2',
        'Select Database 1' => 'Datenbank 1 auswählen',
        'Select Database 2' => 'Datenbank 2 auswählen',
        'Remember username' => 'Benutzername merken',
        'Connect' => 'Verbinden',
        "Please select two databases to compare" => "Bitte wählen Sie zwei Datenbanken zum Vergleichen aus",
        'Connection failed. Please check your credentials.' => 'Verbindung fehlgeschlagen. Bitte überprüfen Sie Ihre Zugangsdaten.',
        'Total Tables' => 'Gesamte Tabellen',
        'Missing in DB1' => 'Fehlt in DB1',
        'Missing in DB2' => 'Fehlt in DB2',
        'Tables Comparison' => 'Tabellenvergleich',
        'Invalid request' => 'Ungültige Anfrage',
        'Table Comparison' => 'Tabellenvergleich',
        'Missing Tables in DB1' => 'Fehlende Tabellen in DB1',
        'Missing Tables in DB2' => 'Fehlende Tabellen in DB2',
        'Structure Mismatches' => 'Strukturunterschiede',
        'Structure Mismatch' => 'Strukturfehler',
        'Data Mismatches' => 'Datenunterschiede',
        'Indexes DB1' => 'Indizes DB1',
        'Indexes DB2' => 'Indizes DB2',
        'No Mismatches Found' => 'Keine Abweichungen gefunden',
        'Tables are identical' => 'Die Tabellen sind identisch',
        'Table Structure' => 'Tabellenstruktur',
        'Table Data' => 'Tabellendaten',
        'Table Name' => 'Tabellenname',
        'Column Name' => 'Spaltenname',
        'Column Type' => 'Spaltentyp',
        'Column Length' => 'Spaltenlänge',
        'View' => 'Ansicht',
        'Index' => 'Index',
        'Summary' => 'Zusammenfassung',
        'Detailed' => 'Detailliert',
        'Details' => 'Details',
        'compare with' => 'vergleichen mit',
        'Identical Tables' => 'Identische Tabellen',
        'Identical' => 'Identisch',
        'Different' => 'Unterschiedlich',
        'Differences' => 'Unterschiede',
        'Comparison Summary' => 'Vergleichszusammenfassung',
        'Comparison Results' => 'Vergleichsergebnisse',
        'No differences found' => 'Keine Unterschiede gefunden',
    ],
    "pt" => [
        'Database Comparison Tool' => 'Ferramenta de Comparação de Bancos de Dados',
        'Login' => 'Entrar',
        'Host' => 'Host',
        'Username' => 'Nome de usuário',
        'Password' => 'Senha',
        "Connected as: {username}" => "Conectado como: {username}",
        'Select Databases to Compare' => 'Selecionar Bancos de Dados para Comparar',
        'Database 1' => 'Banco de Dados 1',
        'Database 2' => 'Banco de Dados 2',
        'Select Database 1' => 'Selecionar Banco de Dados 1',
        'Select Database 2' => 'Selecionar Banco de Dados 2',
        'Remember username' => 'Lembrar nome de usuário',
        'Connect' => 'Conectar',
        "Please select two databases to compare" => "Por favor selecione dois bancos de dados para comparar",
        'Connection failed. Please check your credentials.' => 'Falha de conexão. Por favor verifique suas credenciais.',
        'Total Tables' => 'Tabelas totais',
        'Missing in DB1' => 'Faltando em BD1',
        'Missing in DB2' => 'Faltando em BD2',
        'Tables Comparison' => 'Comparação de Tabelas',
        'Invalid request' => 'Requisição inválida',
        'Table Comparison' => 'Comparação de Tabela',
        'Missing Tables in DB1' => 'Tabelas faltando em BD1',
        'Missing Tables in DB2' => 'Tabelas faltando em BD2',
        'Structure Mismatches' => 'Incompatibilidades de estrutura',
        'Structure Mismatch' => 'Estrutura incompatível',
        'Data Mismatches' => 'Incompatibilidades de dados',
        'Indexes DB1' => 'Índices BD1',
        'Indexes DB2' => 'Índices BD2',
        'No Mismatches Found' => 'Nenhuma incompatibilidade encontrada',
        'Tables are identical' => 'As tabelas são idênticas',
        'Table Structure' => 'Estrutura da Tabela',
        'Table Data' => 'Dados da Tabela',
        'Table Name' => 'Nome da Tabela',
        'Column Name' => 'Nome da Coluna',
        'Column Type' => 'Tipo da Coluna',
        'Column Length' => 'Tamanho da Coluna',
        'View' => 'Ver',
        'Index' => 'Índice',
        'Summary' => 'Resumo',
        'Detailed' => 'Detalhado',
        'Details' => 'Detalhes',
        'compare with' => 'comparar com',
        'Identical Tables' => 'Tabelas idênticas',
        'Identical' => 'Idênticas',
        'Different' => 'Diferentes',
        'Differences' => 'Diferenças',
        'Comparison Summary' => 'Resumo da Comparação',
        'Comparison Results' => 'Resultados da Comparação',
        'No differences found' => 'Nenhuma diferença encontrada',
    ],
    "ar" => [
        'Database Comparison Tool' => 'أداة مقارنة قواعد البيانات',
        'Login' => 'تسجيل الدخول',
        'Host' => 'المضيف',
        'Username' => 'اسم المستخدم',
        'Password' => 'كلمة المرور',
        "Connected as: {username}" => "متصل باسم: {username}",
        'Select Databases to Compare' => 'اختر قواعد البيانات للمقارنة',
        'Database 1' => 'قاعدة البيانات 1',
        'Database 2' => 'قاعدة البيانات 2',
        'Select Database 1' => 'اختر قاعدة البيانات 1',
        'Select Database 2' => 'اختر قاعدة البيانات 2',
        'Remember username' => 'تذكر اسم المستخدم',
        'Connect' => 'اتصل',
        "Please select two databases to compare" => "الرجاء اختيار قاعدتي بيانات للمقارنة",
        'Connection failed. Please check your credentials.' => 'فشل الاتصال. يرجى التحقق من بيانات الاعتماد الخاصة بك.',
        'Total Tables' => 'مجموع الجداول',
        'Missing in DB1' => 'مفقود في DB1',
        'Missing in DB2' => 'مفقود في DB2',
        'Tables Comparison' => 'مقارنة الجداول',
        'Invalid request' => 'طلب غير صالح',
        'Table Comparison' => 'مقارنة الجدول',
        'Missing Tables in DB1' => 'جداول مفقودة في DB1',
        'Missing Tables in DB2' => 'جداول مفقودة في DB2',
        'Structure Mismatches' => 'اختلافات في البنية',
        'Structure Mismatch' => 'بنية غير متطابقة',
        'Data Mismatches' => 'اختلافات في البيانات',
        'Indexes DB1' => 'فهارس DB1',
        'Indexes DB2' => 'فهارس DB2',
        'No Mismatches Found' => 'لم يتم العثور على أي اختلافات',
        'Tables are identical' => 'الجداول متطابقة',
        'Table Structure' => 'بنية الجدول',
        'Table Data' => 'بيانات الجدول',
        'Table Name' => 'اسم الجدول',
        'Column Name' => 'اسم العمود',
        'Column Type' => 'نوع العمود',
        'Column Length' => 'طول العمود',
        'View' => 'عرض',
        'Index' => 'فهرس',
        'Summary' => 'ملخص',
        'Detailed' => 'تفصيلي',
        'Details' => 'تفاصيل',
        'compare with' => 'قارن مع',
        'Identical Tables' => 'جداول متطابقة',
        'Identical' => 'متطابق',
        'Different' => 'مختلف',
        'Differences' => 'اختلافات',
        'Comparison Summary' => 'ملخص المقارنة',
        'Comparison Results' => 'نتائج المقارنة',
        'No differences found' => 'لم يتم العثور على أي اختلافات',
    ],
    "ja" => [
        'Database Comparison Tool' => 'データベース比較ツール',
        'Login' => 'ログイン',
        'Host' => 'ホスト',
        'Username' => 'ユーザー名',
        'Password' => 'パスワード',
        "Connected as: {username}" => "ユーザー名「{username}」で接続中",
        'Select Databases to Compare' => '比較するデータベースを選択',
        'Database 1' => 'データベース1',
        'Database 2' => 'データベース2',
        'Select Database 1' => 'データベース1を選択',
        'Select Database 2' => 'データベース2を選択',
        'Remember username' => 'ユーザー名を記憶',
        'Connect' => '接続',
        "Please select two databases to compare" => "比較する2つのデータベースを選択してください",
        'Connection failed. Please check your credentials.' => '接続に失敗しました。認証情報を確認してください。',
        'Total Tables' => '総テーブル数',
        'Missing in DB1' => 'DB1で見つからず',
        'Missing in DB2' => 'DB2で見つからず',
        'Tables Comparison' => 'テーブル比較',
        'Invalid request' => '無効なリクエスト',
        'Table Comparison' => 'テーブルの比較',
        'Missing Tables in DB1' => 'DB1で見つからないテーブル',
        'Missing Tables in DB2' => 'DB2で見つからないテーブル',
        'Structure Mismatches' => '構造の不一致',
        'Structure Mismatch' => '構造に不一致あり',
        'Data Mismatches' => 'データの不一致',
        'Indexes DB1' => 'DB1のインデックス',
        'Indexes DB2' => 'DB2のインデックス',
        'No Mismatches Found' => '不一致は見つかりませんでした',
        'Tables are identical' => 'テーブルは同一です',
        'Table Structure' => 'テーブル構造',
        'Table Data' => 'テーブルデータ',
        'Table Name' => 'テーブル名',
        'Column Name' => 'カラム名',
        'Column Type' => 'カラム型',
        'Column Length' => 'カラム長',
        'View' => '表示',
        'Index' => 'インデックス',
        'Summary' => '概要',
        'Detailed' => '詳細',
        'Details' => '詳細情報',
        'compare with' => '比較先',
        'Identical Tables' => '同一テーブル',
        'Identical' => '同一',
        'Different' => '異なる',
        'Differences' => '相違点',
        'Comparison Summary' => '比較サマリー',
        'Comparison Results' => '比較結果',
        'No differences found' => '差分はありません',
    ],
    "hi" => [
        'Database Comparison Tool' => 'डेटाबेस तुलना उपकरण',
        'Login' => 'लॉगिन',
        'Host' => 'होस्ट',
        'Username' => 'उपयोगकर्ता नाम',
        'Password' => 'पासवर्ड',
        "Connected as: {username}" => "कनेक्टेड उपयोगकर्ता: {username}",
        'Select Databases to Compare' => 'तुलना के लिए डेटाबेस चुनें',
        'Database 1' => 'डेटाबेस 1',
        'Database 2' => 'डेटाबेस 2',
        'Select Database 1' => 'डेटाबेस 1 चुनें',
        'Select Database 2' => 'डेटाबेस 2 चुनें',
        'Remember username' => 'उपयोगकर्ता नाम याद रखें',
        'Connect' => 'कनेक्ट',
        "Please select two databases to compare" => "कृपया तुलना के लिए दो डेटाबेस चुनें",
        'Connection failed. Please check your credentials.' => 'कनेक्शन असफल। कृपया अपनी प्रमाण-पत्र जाँचें।',
        'Total Tables' => 'कुल तालिकाएँ',
        'Missing in DB1' => 'DB1 में अनुपस्थित',
        'Missing in DB2' => 'DB2 में अनुपस्थित',
        'Tables Comparison' => 'तालिका तुलना',
        'Invalid request' => 'अमान्य अनुरोध',
        'Table Comparison' => 'तालिका की तुलना',
        'Missing Tables in DB1' => 'DB1 में अनुपस्थित तालिकाएँ',
        'Missing Tables in DB2' => 'DB2 में अनुपस्थित तालिकाएँ',
        'Structure Mismatches' => 'संरचना的不一致',
        'Structure Mismatch' => 'संरचना में अनमेल',
        'Data Mismatches' => 'डेटा的不一致',
        'Indexes DB1' => 'DB1 इंडेक्स',
        'Indexes DB2' => 'DB2 इंडेक्स',
        'No Mismatches Found' => 'कोई अंतर नहीं मिला',
        'Tables are identical' => 'तालिकाएँ समान हैं',
        'Table Structure' => 'तालिका संरचना',
        'Table Data' => 'तालिका डेटा',
        'Table Name' => 'तालिका नाम',
        'Column Name' => 'कॉलम नाम',
        'Column Type' => 'कॉलम प्रकार',
        'Column Length' => 'कॉलम लंबाई',
        'View' => 'देखें',
        'Index' => 'इंडेक्स',
        'Summary' => 'सारांश',
        'Detailed' => 'विस्तृत',
        'Details' => 'विवरण',
        'compare with' => 'के साथ तुलना करें',
        'Identical Tables' => 'समान तालिकाएँ',
        'Identical' => 'समान',
        'Different' => 'भिन्न',
        'Differences' => 'अंतर',
        'Comparison Summary' => 'तुलना सारांश',
        'Comparison Results' => 'तुलना परिणाम',
        'No differences found' => 'कोई अंतर नहीं पाया गया',
    ],
];

//$defaultLang = 'en';
if (!isset($defaultLang) && !empty($_SERVER['HTTP_ACCEPT_LANGUAGE'])) {
    $detectedLang = substr($_SERVER['HTTP_ACCEPT_LANGUAGE'], 0, 2);
    if (isset($translations[$detectedLang])) {
        $defaultLang = $detectedLang;
    }
}

function T($key, $vars=[], $lang = null) {
    global $translations, $defaultLang;
    if ($lang === null) {
        $lang = $defaultLang;
    }

    if (isset($translations[$lang][$key])) {
        $retval = $translations[$lang][$key];
    } else {
        $retval = $key; // Return the key if translation is not found
    }

    
    foreach ($vars as $var => $value) {
        $retval = str_replace('{' . $var . '}', $value, $retval);
    }

    return $retval;
}

